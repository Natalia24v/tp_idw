<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Administrar Salones</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div>
        <nav class="navbar navbar-expand-lg navbar-light custom-navbar">
  <div class="container-fluid">
    <img src="assets/img/logo.png" alt="Logo"  class="logo">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link" href="./index.html">Inicio</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="./institucional.html">Institucional</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="./contacto.html">Contacto</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="./catalogo.html">Catalogo</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

  <div class="container my-5">
    <h1 class="text-center mb-4 text-primary">Administrar Salones</h1>
    <form id="formSalon" class="border p-4 rounded bg-light">
      <input type="hidden" id="salonId">
      <div class="mb-3">
        <label for="nombre" class="form-label">Nombre del salón:</label>
        <input type="text" id="nombre" class="form-control" required>
      </div>
      <div class="mb-3">
        <label for="descripcion" class="form-label">Descripción:</label>
        <textarea id="descripcion" class="form-control" rows="3" required></textarea>
      </div>
      <div class="mb-3">
        <label for="imagen" class="form-label">URL de imagen:</label>
        <input type="text" id="imagen" class="form-control" required>
      </div>
      <button type="submit" class="btn btn-success">Guardar</button>
      <button type="reset" class="btn btn-secondary">Limpiar</button>
    </form>

    <hr class="my-5">
    <h2 class="text-center text-danger">Salones existentes</h2>
    <table class="table table-striped mt-4" id="tablaSalones">
      <thead>
        <tr>
          <th>Imagen</th>
          <th>Nombre</th>
          <th>Descripción</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
  
<footer class="custom-footer mt-5">
  <div class="container py-4">
    <div class="row">
      <div class="col-md-4">
        <h5>IDW S.A.</h5>
        <p>Reserva de salones de eventos infantiles. Hacemos tu celebración inolvidable.</p>
      </div>
      <div class="col-md-4">
        <h5>Enlaces</h5>
        <ul class="list-unstyled">
          <li><a href="index.html" class="text-white text-decoration-none">Inicio</a></li>
          <li><a href="institucional.html" class="text-white text-decoration-none">Institucional</a></li>
          <li><a href="contacto.html" class="text-white text-decoration-none">Contacto</a></li>
          <li><a href="catalogo.html" class="text-white text-decoration-none">Catalogo</a></li>
        </ul>
      </div>
      <div class="col-md-4">
        <h5>Contacto</h5>
        <p>Email: info@idwsa.com</p>
        <p>Tel: +54 341 1234567</p>
        <p>Dirección: Av. Siempreviva 123, Paraná, Entre Ríos</p>
      </div>
    </div>
  </div>
  <div class="bg-secondary text-center py-2">
    <small>© 2025 IDW S.A. - Todos los derechos reservados</small>
  </div>
</footer>

  <script type="module">
    const form = document.getElementById("formSalon");
    const tablaBody = document.querySelector("#tablaSalones tbody");

    const obtenerSalones = () => JSON.parse(localStorage.getItem("salones")) || [];
    const guardarSalones = (salones) => localStorage.setItem("salones", JSON.stringify(salones));

    const renderTabla = () => {
      const salones = obtenerSalones();
      tablaBody.innerHTML = "";
      salones.forEach(salon => {
        const fila = document.createElement("tr");
        fila.innerHTML = `
          <td><img src="${salon.imagen}" width="100" alt="Imagen"></td>
          <td>${salon.nombre}</td>
          <td>${salon.descripcion}</td>
          <td>
            <button class="btn btn-sm btn-primary" onclick="editarSalon(${salon.id})">Editar</button>
            <button class="btn btn-sm btn-danger" onclick="eliminarSalon(${salon.id})">Eliminar</button>
          </td>
        `;
        tablaBody.appendChild(fila);
      });
    };

    window.editarSalon = (id) => {
      const salon = obtenerSalones().find(s => s.id === id);
      document.getElementById("salonId").value = salon.id;
      document.getElementById("nombre").value = salon.nombre;
      document.getElementById("descripcion").value = salon.descripcion;
      document.getElementById("imagen").value = salon.imagen;
    };

    window.eliminarSalon = (id) => {
      const salones = obtenerSalones().filter(s => s.id !== id);
      guardarSalones(salones);
      renderTabla();
    };

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const id = document.getElementById("salonId").value;
      const nombre = document.getElementById("nombre").value;
      const descripcion = document.getElementById("descripcion").value;
      const imagen = document.getElementById("imagen").value;

      let salones = obtenerSalones();

      if (id) {
        // Editar
        salones = salones.map(salon => salon.id == id ? { id: Number(id), nombre, descripcion, imagen } : salon);
      } else {
        // Crear
        const nuevoSalon = { id: Date.now(), nombre, descripcion, imagen };
        salones.push(nuevoSalon);
      }

      guardarSalones(salones);
      form.reset();
      renderTabla();
    });

    renderTabla();
  </script>
</body>
</html>